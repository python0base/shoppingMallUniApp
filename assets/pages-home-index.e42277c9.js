import{o as e,c as a,w as s,a as t,r as n,F as o,S as l,b as r,i as c,d,e as i,f as m,t as u,g as p,h as f,j as b,n as g,k as _}from"./index.f820791d.js";import{o as h}from"./uni-app.es.bddeed26.js";import{h as k,G as v}from"./index.333fa45a.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";import{T as y}from"./index.36cfeca9.js";const C=I({components:{HomeSwiper:I({props:{banners:{type:Array,default:()=>[]}}},[["render",function(i,m,u,p,f,b){const g=c,_=d,h=l;return e(),a(h,{class:"banner","indicator-dots":"","indicator-active-color":"#ff7555",circular:""},{default:s((()=>[(e(!0),t(o,null,n(u.banners,((t,n)=>(e(),a(_,{key:t.acm,class:"banner-item"},{default:s((()=>[r(g,{class:"image",src:t.image,mode:"widthFix"},null,8,["src"])])),_:2},1024)))),128))])),_:1})}],["__scopeId","data-v-62719305"]]),HomeRecommend:I({props:{recommends:{type:Array,default:()=>[]}}},[["render",function(l,d,p,f,b,g){const _=c,h=i;return e(),a(h,{class:"recommend"},{default:s((()=>[(e(!0),t(o,null,n(p.recommends,((t,n)=>(e(),a(h,{key:t.acm,class:"recommend-item"},{default:s((()=>[r(_,{class:"image",src:t.image},null,8,["src"]),r(h,{class:"title"},{default:s((()=>[m(u(t.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}],["__scopeId","data-v-ebb54799"]]),HomePopular:I({},[["render",function(t,n){const o=c,l=i;return e(),a(l,{class:"popular"},{default:s((()=>[r(o,{class:"image",mode:"widthFix",src:"/assets/recommend_bg.6119532a.jpg"})])),_:1})}],["__scopeId","data-v-4debb327"]]),TabControl:y,GoodsListItem:v},setup(){const e=p([]),a=p([]);p([""]);const s=["pop","new","sell"],t={};s.forEach((e=>{t[e]={page:1,list:[]}}));const n=f(t),o=p("pop");b((()=>{k.get("/home/multidata").then((s=>{e.value=s.data.banner.list,a.value=s.data.recommend.list})),l("pop",1),l("new",1),l("sell",1)})),h((()=>{l(o.value,n[o.value].page)}));const l=(e,a)=>{(function(e,a){return k.get("/home/data",{type:e,page:a})})(e,a).then((a=>{n[e].list.push(...a.data.list),n[e].page+=1}))};return{banners:e,recommends:a,handleTabClick:e=>{o.value=s[e]},goodsList:n,currentType:o,handleItemClick:e=>{g({url:"/pages/detail/index?id="+e,fail:e=>{console.log(e)}})}}}},[["render",function(l,c,d,m,u,p){const f=_("home-swiper"),b=_("home-recommend"),g=_("home-popular"),h=_("tab-control"),k=_("goods-list-item"),v=i;return e(),t(o,null,[r(f,{banners:m.banners},null,8,["banners"]),r(b,{recommends:m.recommends},null,8,["recommends"]),r(g),r(h,{class:"tab-control",titles:["流行","新款","精选"],onTabClick:m.handleTabClick},null,8,["onTabClick"]),r(v,{class:"goods-list"},{default:s((()=>[(e(!0),t(o,null,n(m.goodsList[m.currentType].list,((t,n)=>(e(),a(v,{key:t.iid,class:"item"},{default:s((()=>[r(k,{itemInfo:t,onItemClick:m.handleItemClick},null,8,["itemInfo","onItemClick"])])),_:2},1024)))),128))])),_:1})],64)}],["__scopeId","data-v-3cfead7f"]]);export{C as default};
