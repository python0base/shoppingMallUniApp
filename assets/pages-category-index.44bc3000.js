import{g as e,o as t,c as a,w as l,b as s,a as n,r as o,F as c,e as i,C as r,v as u,f as m,t as d,n as g,B as f,z as p,x as k,A as b,h as y,j as C,k as _}from"./index.f820791d.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";import{T as v}from"./index.36cfeca9.js";import{h,G as T}from"./index.333fa45a.js";const x=I({components:{TabMenu:I({props:{categories:{type:Array,default:function(){return[]}}},emits:["menuItemClick"],setup(t,{emit:a}){const l=e("正在流行");return{currentTitle:l,menuItemClick:e=>{l.value=e.title,a("menuItemClick",e)}}}},[["render",function(e,g,f,p,k,b){const y=i,C=r;return t(),a(y,{class:"tab-menu"},{default:l((()=>[s(C,{"scroll-y":"true",class:"tab-menu-scroll"},{default:l((()=>[(t(!0),n(c,null,o(f.categories,((e,s)=>(t(),a(y,{key:e.maitKey,class:u(["scroll-view-item",p.currentTitle===e.title?"active":""]),onClick:t=>p.menuItemClick(e)},{default:l((()=>[m(d(e.title),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-d4c63913"]]),TabContentCategory:I({props:{subcategories:{type:Array,default:function(){return[]}}},setup:()=>({itemClick:e=>{g({url:"/pages/webview/index?link="+e.link,fail:e=>{console.log(e)}})}})},[["render",function(e,r,u,g,y,C){const _=b,I=i,v=f("lazy");return t(),a(I,{class:"tab-content-category"},{default:l((()=>[(t(!0),n(c,null,o(u.subcategories,((e,n)=>(t(),a(I,{key:e.miniWallkey,class:"content-item",onClick:t=>g.itemClick(e)},{default:l((()=>[p(k("img",{class:"c-img"},null,512),[[v,e.image]]),s(_,{class:"title"},{default:l((()=>[m(d(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})}],["__scopeId","data-v-08af8bf4"]]),TabControl:v,GoodsListItem:T},setup(){const t=e([]),a=e([]);e([]),e([]),e([]);const l=e("pop"),s=["pop","new","sell"],n={};s.forEach((e=>{n[e]=[]}));const o=y(n);C((()=>{h.get("/category").then((e=>{t.value=e.data.category.list||[],t.value&&t.value.length&&c(t.value[0])}))}));const c=(e={})=>{let{maitKey:t,miniWallkey:l}=e;(function(e){return h.get(`/subcategory?maitKey=${e}`)})(t).then((e=>{a.value=e.data.list||[]})),i("pop",l),i("new",l),i("sell",l)},i=(e,t)=>{(function(e,t){return h.get(`/subcategory/detail?miniWallkey=${t}&type=${e}`)})(e,t).then((t=>{o[e]=t}))};return{currentType:l,categories:t,subcategories:a,goodsList:o,tabMenuItemClick:e=>{e&&c(e)},handleTabClick:e=>{console.log(e),l.value=s[e]},handleGoodItemClick:e=>{console.log(e),g({url:"/pages/detail/index?id="+e,fail:e=>{console.log(e)}})}}}},[["render",function(e,u,m,d,g,f){const p=_("tab-menu"),k=_("tab-content-category"),b=_("tab-control"),y=_("goods-list-item"),C=i,I=r;return t(),a(C,{class:"category"},{default:l((()=>[s(p,{categories:d.categories,onMenuItemClick:d.tabMenuItemClick},null,8,["categories","onMenuItemClick"]),s(I,{class:"content-scroll","scroll-y":"true"},{default:l((()=>[s(k,{subcategories:d.subcategories},null,8,["subcategories"]),s(b,{class:"tab-control",titles:["综合","新品","销量"],onTabClick:d.handleTabClick},null,8,["onTabClick"]),s(C,{class:"goods-list"},{default:l((()=>[(t(!0),n(c,null,o(d.goodsList[d.currentType],((e,n)=>(t(),a(C,{key:e.cfav+"_"+e.iid,class:"item"},{default:l((()=>[s(y,{itemInfo:e,onItemClick:d.handleGoodItemClick},null,8,["itemInfo","onItemClick"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-c47a7528"]]);export{x as default};
